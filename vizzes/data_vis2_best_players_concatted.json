{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/mleo0010/FIT3179-DataVis2-ML/main/data/best_players_wins.csv"
  },
  "params": [
    {
      "name": "Tourney_level_selection",
      "value": "Total",
      "bind": {
        "input": "select",
        "options": ["Total", "Grand", "Masters", "Tour", "Other"],
        "labels": [
          "All Tourneys",
          "Grand Slams",
          "Masters",
          "Tour Finals",
          "Other"
        ],
        "name": "Tourney Level: "
      }
    },
    {"name": "Player_selection",
    "value": "Rafael Nadal",
    "bind": {
      "input": "select",
      "options": ["Jimmy Connors", "Roger Federer", "Ivan Lendl", "Rafael Nadal", "Novak Djokovic"],
      "labels": ["Jimmy Connors", "Roger Federer", "Ivan Lendl", "Rafael Nadal", "Novak Djokovic"],
      "name": "Player: "
    }}
  ],
  "transform": [
    {
      "filter": "datum.tourney_level == Tourney_level_selection"
    },
    {"filter": "datum.winner_name == Player_selection"},
    {"calculate": "datum.winner_name", "as": "Player Name"}
  ],
  "hconcat": [
    {
      "height": 350,
      "width": 400,
      "title": {
        "text": "Who are the top 5 best tennis players of all time?",
        "fontSize": 18
      },
  "data": {
    "values": [
      {
        "Name": "Jimmy Connors",
        "Wins": 110,
        "img": "https://raw.githubusercontent.com/mleo0010/FIT3179-DataVis2-ML/main/images/Jimmy%20Connors.jpeg"
      },
      {
        "Name": "Roger Federer",
        "Wins": 103,
        "img": "https://raw.githubusercontent.com/mleo0010/FIT3179-DataVis2-ML/main/images/Roger%20Federer.jpeg"
      },
      {
        "Name": "Ivan Lendl",
        "Wins": 95,
        "img": "https://raw.githubusercontent.com/mleo0010/FIT3179-DataVis2-ML/main/images/Ivan%20Lendl.jpeg"
      },
      {
        "Name": "Rafael Nadal",
        "Wins": 87,
        "img": "https://raw.githubusercontent.com/mleo0010/FIT3179-DataVis2-ML/main/images/Rafael%20Nadal.jpeg"
      },
      {
        "Name": "Novak Djokovic",
        "Wins": 83,
        "img": "https://raw.githubusercontent.com/mleo0010/FIT3179-DataVis2-ML/main/images/Novak%20Djokovic.png"
      }
    ]
  },
  "layer": [
    {
      "mark": {"type": "bar"},
      "encoding": {
        "x": {
          "field": "Wins",
          "type": "quantitative",
          "axis": {"labelFontSize": 12, "titleFontSize": 14}
        },
        "y": {
          "field": "Name",
          "type": "nominal",
          "axis": null,
          "sort": [
            "Jimmy Connors",
            "Roger Federer",
            "Ivan Lendl",
            "Rafael Nadal",
            "Novak Djokovic"
          ]
        },
        "color": {
          "field": "Name",
          "type": "nominal",
          "legend": {"labelFontSize": 12, "titleFontSize": 14, "orient": "bottom", "format": {"sort": "-x"}}
        }
      }
    },
    {
      "transform": [{"calculate": "-6", "as": "xAxis"}],
      "mark": {"type": "image", "width": 50, "height": 50},
      "encoding": {
        "x": {
          "field": "xAxis",
          "type": "quantitative",
          "title": "Wins",
          "scale": {"domain": [0, 120]}
        },
        "y": {
          "field": "Name",
          "type": "nominal",
          "sort": [
            "Jimmy Connors",
            "Roger Federer",
            "Ivan Lendl",
            "Rafael Nadal",
            "Novak Djokovic"
          ]
        },
        "tooltip": [
          {"field": "Name", "type": "nominal"},
          {"field": "Wins", "type": "quantitative"}
        ],
        "url": {"field": "img", "type": "ordinal"}
      }
    },
    {
      "mark": {"type": "text", "align": "right", "xOffset": -4, "aria": false},
      "encoding": {
        "x": {"field": "Wins", "type": "quantitative"},
        "y": {
          "field": "Name",
          "type": "nominal",
          "sort": [
            "Jimmy Connors",
            "Roger Federer",
            "Ivan Lendl",
            "Rafael Nadal",
            "Novak Djokovic"
          ]
        },
        "text": {"field": "Wins", "type": "quantitative"},
        "color": {"value": "white"}
      }
    }
  ]},
  {
  "width": 600,
  "height": 450,
  "title": {
    "text": "How many wins have the top 5 players of all time won over the years?",
    "fontSize": 16
  },
  "layer": [
    {
      "mark": "line",
      "encoding": {
        "x": {
          "field": "year",
          "timeUnit": "year",
          "axis": {"labelFontSize": 12, "tickCount": 20, "titleFontSize": 14},
          "title": "Year"
        },
        "y": {
          "field": "Wins",
          "type": "quantitative",
          "axis": {"labelFontSize": 12, "titleFontSize": 14},
          "title": "Wins"
        }
      }
    },
    {
      "mark": {
        "type": "text",
        "align": "left",
        "baseline": "middle",
        "xOffset": -6,
        "yOffset": -17,
        "fontSize": 12
      },
      "encoding": {
        "x": {"field": "year", "timeUnit": "year"},
        "y": {"field": "Wins", "type": "quantitative"},
        "text": {"field": "Wins", "type": "nominal"},
        "opacity": {
          "condition": {"test": "datum['Wins'] >= 10", "value": 1},
          "value": 0
        },
        "tooltip": [
          {"field": "Player Name", "type": "nominal"},
          {"field": "year", "title": "Year", "timeUnit": "year"},
          {"field": "Wins", "type": "quantitative"}
        ]
      }
    }
  ]
  }
  ],
  "config": {}
}
